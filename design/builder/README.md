# 概要

builderパターンを実装してみたもの

* main内でbuilderクラスの細かいメソッドが使われない点が大事。
* directorクラスで使うメソッドをbuilderスーパークラスが必要十分に持っていることが必要。
  * builderサブクラスのバリエーションへの対応をスーパークラスで賄えるかは検討が必要（部品が足りているか）
    * 例えば、今回はmakeTitleにファイルオープン関数が入っているが、Builderにopenメソッドがあっても良いはず。
  * サブクラスの切り替えが十全に動作するためにもbuilderスーパークラスのメソッドのみを使うことが大事。

# 所感

* directorは指示を出す（コンテンツ本体を決める）人、builderは細かい方法とかを決めて実際の構築を行う人。
  * builder側もmainの中に出てくる
  * builderサブクラスの独自メソッドがmainの中で使われてもいい
  * 共通の手続きをdirectorが実行している。
  * directorが知らなければならないインターフェイスだけをbuilderスーパークラスに実装している。
* C++のスマートポインタを使っている場合。
  * directorとbuilderは独自に生き続けるので、unique_ptrは使えない。shared_ptrが良さそう。weak_ptrだと本体がいつ削除されるかわからないのでshared_ptrの方が良い気がする。
  * ただ、このパターンの本来のアウトプットはbuilderが出力するもので、directorとbuilderは同じスコープにいることが多いと考えられるので、weak_ptrにしても良い気もする。