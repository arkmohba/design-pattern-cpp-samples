# 概要

Two-Phase Terminationパターンを実装してみたもの。

* shutdown_requestで変更する変数はラッチなので、スレッドセーフを考える必要がない。
  * 実際の終了処理は別で実行される。


# 所感

* ループを切る機能は実装できたが、interruptには対応できていない。
  * waitやsleepをする場合、condition_variableを使って、ラッチ変数をガード条件に使う必要がある。
* ラッチ変数の判定は必要があれば、細かに入れる必要がありそう。一つの処理が小さければループの始めだけでもいい気がする。
