# 概要

Thread-Per-Messageパターンを実装してみたもの。

* mainから呼び出す部分には内部的なマルチスレッドは見えない。
* hostはスレッドを生成し、実際のアクションはhelperに任せる。
* スレッドの起動にworker-threadパターンを使う場合もある。
* handleにかかる時間よりスレッドを起動する時間のほうがかかる場合は向いてない。
* 処理の順序は守られない。
* 戻りが不要な場合に使う。
  * 結果が必要な場合はFutureパターンを使う。
* サーバのリクエストの分散処理はこのパターン。
* 今回のリクエストは非同期のメッセージ送信である。
* スレッド同士の切り替えはコンテキストスイッチがプロセス切り替えより軽い。


# 所感

* スレッド自体はラムダ関数で作れるのでC++だと楽。
