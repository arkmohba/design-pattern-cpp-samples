# 概要

Futureパターンを実装してみたもの。

* クライアント役はデータがFutureなのかRealなのか気にしなくてよい。
* Futureデータ、RealデータはAPIが同じになるよう、ベースクラスを同じにする。
* マルチスレッドらしいwaitなどの挙動はFuture役がすべて担う。
* 受け取りまで含めたFutureパターンではスループットが向上するか？
  * 1CPU処理であれば変わらない。
  * I/O処理が入れば、その時間にCPU処理が進められるので向上する。
* 戻り値の用意と戻りの利用の分離
* Futureのget_contentでwaitではなくbalkingする場合もある。
* 段階的にFuture.get_contentのデータを変えることもある。（画像データを軽量なデータから取り出すなど。）
* データを後から取り出す手法としてコールバックがあるが、コールバックではクライアント側でマルチスレッドを意識する必要がある。

# 所感

* ラムダ関数でポインタを渡すときに参照渡しにすると、データのガワは破棄されてしまうのでアクセス違反になる。ポインタの値自体を値渡ししないといけない。

